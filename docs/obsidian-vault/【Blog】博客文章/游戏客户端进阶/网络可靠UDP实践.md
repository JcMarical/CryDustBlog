KCP是一个快速可靠协议，能以比 [TCP](https://zhida.zhihu.com/search?content_id=252261799&content_type=Article&match_order=1&q=TCP&zhida_source=entity)浪费10%-20%的带宽的代价，换取平均延迟降低 30%-40%，且最大延迟降低三倍的传输效果。

纯算法实现，传输依旧依靠其他协议（基本上是UDP）的callback完成。


# KCP特点

1. **自动重传**：和TCP一样是基于ARQ协议**实现可靠性**
	- **指数增长**：每次超时，RTO按照指数增长
	- TCP：TCP超时计算是--重传超时时间RTO* 2，三次包即为 RTO * 8
	- KCP：单次RTO * 1.5，第三次RTO* 3.375。**更快**
2. **乱序重组（选择重传）**：乱序收包，接受窗口缓存，按序重组。
	- TCP是严格按照顺序进行发包的，收发包乱序，需要将丢失包后所有数据重传
	- KCP只用累计丢失的数据包，进程单独的重传，最后排序即可。
3. **快速重传**：**基于累计确认实现**。不用等超时，如果收到序号后面一个包，累计一次，再收到累计第二次，累计两次即认为丢失，不用超市立刻重传。**大大改善了丢包时的传输速度。**
4. **非延迟ACK**：一个可配置的方案，不会将一连串的每个数据都响应一次，而是延迟发送ACK
	- 优点：充分利用带宽
	- 缺点：RTT计算可能偏大，延长丢包判断。
5. **UNA+ACK**：
	- UNA：代表此前所有包都已经收到，只有UNA会导致**全部重传**
	- ACK：只用ACK**丢失成本太高**.
6. **拥塞控制**：**可配置的方案**，为了确保快速、及时性，KCP可以不做拥塞控制，而是**非退让流控**。
	- TCP拥塞窗口：网络发生了拥堵，窗口阈值会减半
	- KCP：不做处理，KCP如此将导致网络里增加更多的未被收到的数据，牺牲了带宽利用率。
	- 这对其他传输服务是不公平的。